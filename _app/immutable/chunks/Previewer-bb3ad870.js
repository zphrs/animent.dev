import{_ as Ie}from"./preload-helper-41c905a7.js";import{S as ie,i as oe,s as ne,k as E,l as P,m as C,h as p,n as I,b as y,B as m,C as Re,V as qe,q as M,r as L,E as K,F as v,R as Ee,u as ce,Z as ue,_ as se,$ as de,a0 as Oe,Y as re,a1 as _e,a2 as Ue,a3 as Pe,e as R,a4 as Te,f as T,t as D,D as Fe,G as Y,w as x,a as he,x as ae,c as me,y as ee,g as G,d as z,z as te,v as pe,a5 as $,a6 as ge}from"./index-dedda207.js";import{m as Ne}from"./stores-f6a321b6.js";import{b as be}from"./paths-b4419565.js";const He=!0,Be=He;function ke(r,e,l){const n=r.slice();return n[3]=e[l],n}function ve(r){let e,l=r[3].title+"",n,t,s;function o(){return r[2](r[3])}return{c(){e=E("button"),n=M(l),this.h()},l(f){e=P(f,"BUTTON",{class:!0});var c=C(e);n=L(c,l),c.forEach(p),this.h()},h(){I(e,"class","filename svelte-1g9dqv4"),K(e,"selected",r[3].selected)},m(f,c){y(f,e,c),v(e,n),t||(s=Ee(e,"click",o),t=!0)},p(f,c){r=f,c&1&&l!==(l=r[3].title+"")&&ce(n,l),c&1&&K(e,"selected",r[3].selected)},d(f){f&&p(e),t=!1,s()}}}function Ve(r){let e,l=r[0],n=[];for(let t=0;t<l.length;t+=1)n[t]=ve(ke(r,l,t));return{c(){e=E("div");for(let t=0;t<n.length;t+=1)n[t].c();this.h()},l(t){e=P(t,"DIV",{class:!0});var s=C(e);for(let o=0;o<n.length;o+=1)n[o].l(s);s.forEach(p),this.h()},h(){I(e,"class","tab-bar svelte-1g9dqv4")},m(t,s){y(t,e,s);for(let o=0;o<n.length;o+=1)n[o].m(e,null)},p(t,[s]){if(s&3){l=t[0];let o;for(o=0;o<l.length;o+=1){const f=ke(t,l,o);n[o]?n[o].p(f,s):(n[o]=ve(f),n[o].c(),n[o].m(e,null))}for(;o<n.length;o+=1)n[o].d(1);n.length=l.length}},i:m,o:m,d(t){t&&p(e),Re(n,t)}}}function je(r,e,l){const n=qe();let{tabs:t=[]}=e;const s=o=>n("select",o);return r.$$set=o=>{"tabs"in o&&l(0,t=o.tabs)},[t,n,s]}class Ke extends ie{constructor(e){super(),oe(this,e,je,Ve,ne,{tabs:0})}}function We(r){let e,l,n,t,s=[{title:r[0]},{src:l=r[1]},r[2]],o={};for(let f=0;f<s.length;f+=1)o=se(o,s[f]);return{c(){e=E("iframe"),this.h()},l(f){e=P(f,"IFRAME",{title:!0,src:!0}),C(e).forEach(p),this.h()},h(){de(e,o),K(e,"svelte-iq5dfa",!0)},m(f,c){y(f,e,c),n||(t=Ee(window,"message",r[3]),n=!0)},p(f,[c]){de(e,o=Oe(s,[c&1&&{title:f[0]},c&2&&!re(e.src,l=f[1])&&{src:l},c&4&&f[2]])),K(e,"svelte-iq5dfa",!0)},i:m,o:m,d(f){f&&p(e),n=!1,t()}}}function Ye(r,e,l){let{title:n}=e,{src:t}=e;function s(o){Ue.call(this,r,o)}return r.$$set=o=>{l(2,e=se(se({},e),_e(o))),"title"in o&&l(0,n=o.title),"src"in o&&l(1,t=o.src)},r.$$.update=()=>{r.$$.dirty&2&&console.log(t)},e=_e(e),[n,t,e,s]}class Ge extends ie{constructor(e){super(),oe(this,e,Ye,We,ne,{title:0,src:1})}get title(){return this.$$.ctx[0]}set title(e){this.$$set({title:e}),ue()}get src(){return this.$$.ctx[1]}set src(e){this.$$set({src:e}),ue()}}function ze(r){return{c:m,l:m,m,p:m,i:m,o:m,d:m}}function Ze(r){var q;let e,l,n,t,s,o,f=(q=r[2])==null?void 0:q.index,c;l=new Ke({props:{tabs:r[3]}}),l.$on("select",r[15]);function _(h,b){if(b&4&&(s=null),h[1]&&!h[5])return $e;if(!h[2])return Xe;if(s==null&&(s=!!j(h[2])),s)return Qe;if(h[2].id==="preview"&&h[0]!==void 0)return Je}let i=_(r,-1),a=i&&i(r),d=ye(r);return{c(){e=E("div"),x(l.$$.fragment),n=he(),t=E("div"),a&&a.c(),o=he(),d.c(),this.h()},l(h){e=P(h,"DIV",{class:!0});var b=C(e);ae(l.$$.fragment,b),n=me(b),t=P(b,"DIV",{class:!0});var k=C(t);a&&a.l(k),k.forEach(p),o=me(b),d.l(b),b.forEach(p),this.h()},h(){I(t,"class","message svelte-3nfury"),I(e,"class","parent svelte-3nfury"),K(e,"deselected",r[2]===void 0)},m(h,b){y(h,e,b),ee(l,e,null),v(e,n),v(e,t),a&&a.m(t,null),v(e,o),d.m(e,null),c=!0},p(h,b){var U;const k={};b&8&&(k.tabs=h[3]),l.$set(k),i===(i=_(h,b))&&a?a.p(h,b):(a&&a.d(1),a=i&&i(h),a&&(a.c(),a.m(t,null))),b&4&&ne(f,f=(U=h[2])==null?void 0:U.index)?(G(),D(d,1,1,m),z(),d=ye(h),d.c(),T(d,1),d.m(e,null)):d.p(h,b),(!c||b&4)&&K(e,"deselected",h[2]===void 0)},i(h){c||(T(l.$$.fragment,h),T(d),c=!0)},o(h){D(l.$$.fragment,h),D(d),c=!1},d(h){h&&p(e),te(l),a&&a.d(),d.d(h)}}}function Je(r){let e,l=(r[10](r[0])||r[0].path)+"",n;return{c(){e=E("span"),n=M(l),this.h()},l(t){e=P(t,"SPAN",{class:!0});var s=C(e);n=L(s,l),s.forEach(p),this.h()},h(){I(e,"class","title")},m(t,s){y(t,e,s),v(e,n)},p(t,s){s&1&&l!==(l=(t[10](t[0])||t[0].path)+"")&&ce(n,l)},d(t){t&&p(e)}}}function Qe(r){let e,l=r[2].path.slice(1)+"/",n;return{c(){e=E("span"),n=M(l),this.h()},l(t){e=P(t,"SPAN",{class:!0});var s=C(e);n=L(s,l),s.forEach(p),this.h()},h(){I(e,"class","filename svelte-3nfury")},m(t,s){y(t,e,s),v(e,n)},p(t,s){s&4&&l!==(l=t[2].path.slice(1)+"/")&&ce(n,l)},d(t){t&&p(e)}}}function Xe(r){let e;return{c(){e=M("Select a file above to view it")},l(l){e=L(l,"Select a file above to view it")},m(l,n){y(l,e,n)},p:m,d(l){l&&p(e)}}}function $e(r){let e,l,n,t,s,o,f,c,_,i,a,d,q,h;return{c(){e=E("span"),l=M("Press "),n=E("kbd"),t=M("esc"),s=M(` and then either
          `),o=E("kbd"),f=M("tab"),c=M(`
          or `),_=E("kbd"),i=M("shift"),a=M(` +
          `),d=E("kbd"),q=M("tab"),h=M(" to tab out of the editor")},l(b){e=P(b,"SPAN",{});var k=C(e);l=L(k,"Press "),n=P(k,"KBD",{});var U=C(n);t=L(U,"esc"),U.forEach(p),s=L(k,` and then either
          `),o=P(k,"KBD",{});var Z=C(o);f=L(Z,"tab"),Z.forEach(p),c=L(k,`
          or `),_=P(k,"KBD",{});var J=C(_);i=L(J,"shift"),J.forEach(p),a=L(k,` +
          `),d=P(k,"KBD",{});var Q=C(d);q=L(Q,"tab"),Q.forEach(p),h=L(k," to tab out of the editor"),k.forEach(p)},m(b,k){y(b,e,k),v(e,l),v(e,n),v(n,t),v(e,s),v(e,o),v(o,f),v(e,c),v(e,_),v(_,i),v(e,a),v(e,d),v(d,q),v(e,h)},p:m,d(b){b&&p(e)}}}function we(r){let e,l,n,t,s,o;const f=[et,xe],c=[];function _(i,a){return a&4&&(e=null),a&12&&(l=null),e==null&&(e=!!j(i[2])),e?0:(l==null&&(l=!!(i[2].id==="preview"&&j(i[3][0]))),l?1:-1)}return~(n=_(r,-1))&&(t=c[n]=f[n](r)),{c(){t&&t.c(),s=R()},l(i){t&&t.l(i),s=R()},m(i,a){~n&&c[n].m(i,a),y(i,s,a),o=!0},p(i,a){let d=n;n=_(i,a),n===d?~n&&c[n].p(i,a):(t&&(G(),D(c[d],1,1,()=>{c[d]=null}),z()),~n?(t=c[n],t?t.p(i,a):(t=c[n]=f[n](i),t.c()),T(t,1),t.m(s.parentNode,s)):t=null)},i(i){o||(T(t),o=!0)},o(i){D(t),o=!1},d(i){~n&&c[n].d(i),i&&p(s)}}}function xe(r){let e,l,n={style:"width: 100%; border-radius: 0; height: calc(100vh - 8.75rem)",title:r[2].title,src:r[9](r[8](r[3][0]))};return e=new Ge({props:n}),r[18](e),e.$on("message",r[6]),{c(){x(e.$$.fragment)},l(t){ae(e.$$.fragment,t)},m(t,s){ee(e,t,s),l=!0},p(t,s){const o={};s&4&&(o.title=t[2].title),s&8&&(o.src=t[9](t[8](t[3][0]))),e.$set(o)},i(t){l||(T(e.$$.fragment,t),l=!0)},o(t){D(e.$$.fragment,t),l=!1},d(t){r[18](null),te(e,t)}}}function et(r){let e,l,n,t,s;const o=[nt,tt],f=[];function c(_,i){return i&4&&(e=null),e==null&&(e=!!at(_[2])),e?0:1}return l=c(r,-1),n=f[l]=o[l](r),{c(){n.c(),t=R()},l(_){n.l(_),t=R()},m(_,i){f[l].m(_,i),y(_,t,i),s=!0},p(_,i){let a=l;l=c(_,i),l===a?f[l].p(_,i):(G(),D(f[a],1,1,()=>{f[a]=null}),z(),n=f[l],n?n.p(_,i):(n=f[l]=o[l](_),n.c()),T(n,1),n.m(t.parentNode,t))},i(_){s||(T(n),s=!0)},o(_){D(n),s=!1},d(_){f[l].d(_),_&&p(t)}}}function tt(r){let e,l,n={ctx:r,current:null,token:null,hasCatch:!1,pending:rt,then:st,catch:lt,value:12,blocks:[,,,]};return Pe(r[12],n),{c(){e=R(),n.block.c()},l(t){e=R(),n.block.l(t)},m(t,s){y(t,e,s),n.block.m(t,n.anchor=s),n.mount=()=>e.parentNode,n.anchor=e,l=!0},p(t,s){r=t,Te(n,r,s)},i(t){l||(T(n.block),l=!0)},o(t){for(let s=0;s<3;s+=1){const o=n.blocks[s];D(o)}l=!1},d(t){t&&p(e),n.block.d(t),n.token=null,n=null}}}function nt(r){let e,l,n;return{c(){e=E("img"),this.h()},l(t){e=P(t,"IMG",{src:!0,alt:!0}),this.h()},h(){re(e.src,l=r[2].path)||I(e,"src",l),I(e,"alt",n=r[2].title)},m(t,s){y(t,e,s)},p(t,s){s&4&&!re(e.src,l=t[2].path)&&I(e,"src",l),s&4&&n!==(n=t[2].title)&&I(e,"alt",n)},i:m,o:m,d(t){t&&p(e)}}}function lt(r){return{c:m,l:m,m,p:m,i:m,o:m,d:m}}function st(r){let e,l,n,t,s;function o(i){r[16](i)}function f(i){r[17](i)}var c=r[12].default;function _(i){let a={lang:i[2].lang};return i[1]!==void 0&&(a.focused=i[1]),i[2].content!==void 0&&(a.doc=i[2].content),{props:a}}return c&&(e=pe(c,_(r)),Y.push(()=>$(e,"focused",o)),Y.push(()=>$(e,"doc",f))),{c(){e&&x(e.$$.fragment),t=R()},l(i){e&&ae(e.$$.fragment,i),t=R()},m(i,a){e&&ee(e,i,a),y(i,t,a),s=!0},p(i,a){const d={};if(a&4&&(d.lang=i[2].lang),!l&&a&2&&(l=!0,d.focused=i[1],ge(()=>l=!1)),!n&&a&4&&(n=!0,d.doc=i[2].content,ge(()=>n=!1)),c!==(c=i[12].default)){if(e){G();const q=e;D(q.$$.fragment,1,0,()=>{te(q,1)}),z()}c?(e=pe(c,_(i)),Y.push(()=>$(e,"focused",o)),Y.push(()=>$(e,"doc",f)),x(e.$$.fragment),T(e.$$.fragment,1),ee(e,t.parentNode,t)):e=null}else c&&e.$set(d)},i(i){s||(e&&T(e.$$.fragment,i),s=!0)},o(i){e&&D(e.$$.fragment,i),s=!1},d(i){i&&p(t),e&&te(e,i)}}}function rt(r){return{c:m,l:m,m,p:m,i:m,o:m,d:m}}function ye(r){let e,l,n=r[2]&&we(r);return{c(){n&&n.c(),e=R()},l(t){n&&n.l(t),e=R()},m(t,s){n&&n.m(t,s),y(t,e,s),l=!0},p(t,s){t[2]?n?(n.p(t,s),s&4&&T(n,1)):(n=we(t),n.c(),T(n,1),n.m(e.parentNode,e)):n&&(G(),D(n,1,1,()=>{n=null}),z())},i(t){l||(T(n),l=!0)},o(t){D(n),l=!1},d(t){n&&n.d(t),t&&p(e)}}}function it(r){let e,l,n;return{c(){e=E("div"),l=E("div"),n=M("Loading..."),this.h()},l(t){e=P(t,"DIV",{class:!0});var s=C(e);l=P(s,"DIV",{class:!0});var o=C(l);n=L(o,"Loading..."),o.forEach(p),s.forEach(p),this.h()},h(){I(l,"class","message svelte-3nfury"),I(e,"class","parent svelte-3nfury")},m(t,s){y(t,e,s),v(e,l),v(l,n)},p:m,i:m,o:m,d(t){t&&p(e)}}}function ot(r){let e,l,n={ctx:r,current:null,token:null,hasCatch:!1,pending:it,then:Ze,catch:ze,value:21,blocks:[,,,]};return Pe(Promise.all([r[11],r[12]]),n),{c(){e=R(),n.block.c()},l(t){e=R(),n.block.l(t)},m(t,s){y(t,e,s),n.block.m(t,n.anchor=s),n.mount=()=>e.parentNode,n.anchor=e,l=!0},p(t,[s]){r=t,Te(n,r,s)},i(t){l||(T(n.block),l=!0)},o(t){for(let s=0;s<3;s+=1){const o=n.blocks[s];D(o)}l=!1},d(t){t&&p(e),n.block.d(t),n.token=null,n=null}}}function ct(r){const e=r.map(n=>n.split("/").slice(0,-1)),l=[];for(let n=0;n<e[0].length;n++){const t=e[0][n];if(e.every(s=>s[n]===t))l.push(t);else break}return l.join("/")}function j(r){return r.content!==void 0&&r.lang!==void 0}function at(r){return r.lang==="png"||r.lang==="jpg"||r.lang==="jpeg"||r.lang==="gif"}function ft(r,e,l){let n,t;Fe(r,Ne,u=>l(5,t=u));let{paths:s=[]}=e,{root:o}=e,f=!1,c,_=Ie(()=>import("./CodeMirror-bbe2bbda.js"),["./CodeMirror-bbe2bbda.js","./index-dedda207.js","../assets/CodeMirror-05336507.css"],import.meta.url),i=[{title:"Loading...",id:"loading",selected:!1,index:0}],a,d;const q=u=>{if(u.data.type==="goto"&&d){l(0,a=i.filter(j).filter(N=>N.path==u.data.url)[0]);const w=k(a);console.log(w),l(4,d.src=U(w),d),console.log(d)}};s.indexOf(o)!=0&&s.indexOf(o)!=-1&&s.splice(s.indexOf(o),1),s.includes(o)||s.unshift(o);function h(u){if(c===u){l(3,i[u.index].selected=!1,i),l(2,c=void 0);return}c&&l(2,c.selected=!1,c),u.id==="preview"&&l(0,a=i.filter(j)[0]),l(2,c=u),l(3,i[u.index].selected=!0,i)}async function b(){const u=s.map(async(w,N)=>{const V=ct(s).length,H=w.slice(V),fe=w.slice(w.lastIndexOf(".")+1);w=be+w;const O=await fetch(`${w}`).then(le=>le.text());return{path:w,relativePath:H,content:O,selected:!1,lang:fe,index:N,title:H,id:w}});return l(3,i=await Promise.all(u)),l(3,i[0].selected=!0,i),l(2,c=i[0]),(i[0].lang==="html"||i[0].lang==="svg")&&i.push({title:"Preview",id:"preview",selected:!1,index:i.length}),i}function k(u){if(u.lang==="svg"){const g=new DOMParser().parseFromString(u.content,"image/svg+xml"),A=document.createElement("html"),S=document.createElement("head"),F=document.createElement("body");A.appendChild(S),A.appendChild(F);const B=`
        html, body {
          margin: 0;
          padding: 0;
          width: 100%;
          height: 100%;
        }
        body {
          display: flex;
          align-items: center;
          justify-content: center;
        }
        svg {
          width: 100%;
          max-width: 400px;
          height: 100%;
        }
      `,W=document.createElement("style");return W.innerHTML=B,S.appendChild(W),F.appendChild(g.documentElement),"<!DOCTYPE html>"+A.outerHTML}const w={},N={},X={};let V=u.content,H=i.filter(j);for(const g of H)g.lang==="css"?w[g.path]=g.content:g.lang==="js"?N[g.path]=g.content:(g.lang==="html"||g.lang==="svg")&&(X[g.path]=g);const O=new DOMParser().parseFromString(V,"text/html"),le=O.documentElement.querySelectorAll("link");for(const g of le)if(g.getAttribute("rel")==="stylesheet"){const S=g.getAttribute("href");if(!S)continue;const F=new URL(S,n),B=w[F.pathname];if(B){const W=O.createElement("style");W.innerHTML=B,g.replaceWith(W)}}const Ce=O.querySelectorAll("script");for(const g of Ce){const A=g.getAttribute("src");if(A){const S=new URL(A,n),F=N[S.pathname];if(F){const B=O.createElement("script");B.innerHTML=F,g.replaceWith(B)}else g.src=S.href}}const De=O.querySelectorAll("img");for(const g of De){const A=g.getAttribute("src");if(!A)continue;const S=new URL(A,new URL(u.path,n));g.setAttribute("src",S.href)}const Ae=O.querySelectorAll("a");for(const g of Ae){const A=g.getAttribute("href");if(!A)continue;const S=new URL(A,new URL(i[0].path,n));X[S.pathname]?g.setAttribute("onclick",`parent.postMessage({type: "goto", url: "${S.pathname}"}, "*"); return false`):g.setAttribute("href",S.href)}return(O.compatMode==="CSS1Compat"?"<!DOCTYPE html>":"")+O.documentElement.outerHTML}const U=u=>"data:text/html;charset=utf-8,"+encodeURIComponent(u),Z=u=>{const w=k(u),V=new DOMParser().parseFromString(w,"text/html").querySelector("title");if(V){const H=V.textContent;if(H)return H}return""},J=b(),Q=u=>h(u.detail);function Se(u){f=u,l(1,f)}function Me(u){r.$$.not_equal(c.content,u)&&(c.content=u,l(2,c))}function Le(u){Y[u?"unshift":"push"](()=>{d=u,l(4,d)})}return r.$$set=u=>{"paths"in u&&l(13,s=u.paths),"root"in u&&l(14,o=u.root)},r.$$.update=()=>{r.$$.dirty&1&&(n=a&&Be?new URL(a.path,window.location.origin+be):void 0)},[a,f,c,i,d,t,q,h,k,U,Z,J,_,s,o,Q,Se,Me,Le]}class pt extends ie{constructor(e){super(),oe(this,e,ft,ot,ne,{paths:13,root:14})}}export{pt as P};
